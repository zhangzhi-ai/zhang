# Django个人博客系统

基于Django 4.2 + Vue.js 3的个人博客系统

## 功能特性

### 用户功能
- ✅ 用户注册、登录、退出
- ✅ 个人资料管理
- ✅ 密码修改
- ✅ 未登录用户可浏览文章和评论
- ✅ 登录后才能发表评论

### 文章功能
- ✅ 文章发布、编辑、删除
- ✅ 文章分类和标签
- ✅ 文章搜索
- ✅ 文章点赞
- ✅ 文章浏览统计

### 评论功能
- ✅ 发表评论
- ✅ 评论回复
- ✅ 评论点赞
- ✅ 未登录提示

### 管理功能（仅管理员）
- ✅ 用户管理（启用/禁用用户）
- ✅ 设置/取消管理员权限
- ✅ 用户统计信息
- ✅ 权限控制

## 技术栈

### 后端
- Python 3.8+
- Django 4.2.24
- Django REST Framework
- SQLite（开发环境）/ MySQL（生产环境）

### 前端
- Vue.js 3
- Vue Router 4
- Vuex 4
- Element Plus
- Axios

## 快速开始

### 1. 安装依赖

```bash
# 后端依赖
cd blog_project
pip install -r requirements.txt

# 前端依赖
cd frontend
npm install
```

### 2. 数据库配置

使用MySQL，修改 `blog_project/settings.py` 中的数据库配置。

### 3. 初始化数据库

```bash
cd blog_project
python manage.py makemigrations
python manage.py migrate
```

### 4. 创建超级用户（管理员）

```bash
python manage.py createsuperuser
```

按提示输入：
- 用户名
- 手机号（11位数字）
- 邮箱
- 密码

### 5. 启动服务

**启动后端服务：**
```bash
cd blog_project
python manage.py runserver
```
后端服务运行在：http://localhost:8000

**启动前端服务（新终端）：**
```bash
cd blog_project/frontend
npm run serve
```
前端服务运行在：http://localhost:8080

### 6. 访问系统

- 前端页面：http://localhost:8080
- 后端API：http://localhost:8000/api/
- Django管理后台：http://localhost:8000/admin/

## 默认账号

使用 `python manage.py createsuperuser` 创建的账号即为管理员账号。

管理员可以：
- 访问用户管理页面
- 管理所有用户
- 设置其他用户为管理员

## 权限说明

### 游客（未登录）
- ✅ 浏览文章列表
- ✅ 查看文章详情
- ✅ 查看评论
- ❌ 发表评论（会提示登录）
- ❌ 点赞文章/评论

### 注册用户
- ✅ 所有游客权限
- ✅ 发表评论
- ✅ 点赞文章/评论
- ✅ 发布文章
- ✅ 管理自己的文章和评论

### 管理员
- ✅ 所有注册用户权限
- ✅ 用户管理
- ✅ 启用/禁用用户
- ✅ 设置/取消管理员权限
- ✅ 查看用户统计信息
- ✅ Django后台管理

## 项目结构

```
blog_project/
├── apps/                      # Django应用
│   ├── users/                # 用户模块
│   ├── blog/                 # 博客模块
│   ├── comments/             # 评论模块
│   └── system/               # 系统配置模块
├── blog_project/             # Django项目配置
│   ├── settings.py          # 设置文件
│   ├── urls.py              # URL配置
│   └── wsgi.py              # WSGI配置
├── frontend/                 # Vue.js前端
│   ├── src/
│   │   ├── components/      # 组件
│   │   ├── views/           # 页面
│   │   ├── router/          # 路由
│   │   ├── store/           # 状态管理
│   │   └── App.vue          # 根组件
│   └── package.json
├── media/                    # 媒体文件
├── static/                   # 静态文件
├── templates/                # 模板文件
├── manage.py                 # Django管理脚本
└── requirements.txt          # Python依赖

```

## 常见问题

### 1. 端口被占用
如果8000或8080端口被占用，可以修改端口：

```bash
# 后端
python manage.py runserver 8001

# 前端（修改 package.json 中的 serve 脚本）
"serve": "vue-cli-service serve --port 8081"
```

### 2. 数据库连接失败
检查 `.env` 文件中的数据库配置是否正确。

### 3. 前端无法访问后端API
检查前端的 `vue.config.js` 中的代理配置是否正确。

### 4. 管理员权限问题
确保使用 `createsuperuser` 创建的账号登录，该账号自动拥有管理员权限。

## 开发说明

### 添加新功能
1. 后端：在 `apps/` 目录下创建新的Django应用
2. 前端：在 `frontend/src/views/` 添加新页面

### API文档
后端API遵循RESTful规范：
- GET：获取资源
- POST：创建资源
- PUT/PATCH：更新资源
- DELETE：删除资源

## 联系方式

如有问题，请联系3553961559@qq.com。
